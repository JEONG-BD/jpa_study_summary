# 15장 고급주제와 성능 최적화

## 15.2 엔티티비교 
- 영속성 컨텍스느 내부에는 엔티티의 인스턴스를 보관하기 위한 1차 캐시가 있다. 이 1차 캐시는 영속성 컨텍스트와 생명주기를 같이 한다. 
- 영속성 컨텍스트를 더 정확히 이해하기 위해서는 1차 캐시의 가장 큰 장점인 애플리케이션 수준의 반복 가능한 읽기를 이해해야 한다. 

### 15.2.1 영속성 컨텍스트가 같을 때 엔티티 비교 
- 동일성 비교가 같다. 
- 동등성 비교가 같다. 
- 데이터베이스 동등성 :@Id인 데이터베이스 식별자가 같다. 

### 15.2.2 영속성 컨텍스트가 다를 때 엔티티 비교 
- 동일성 비교가 실패한다. 
- 동등성 비교가 만족하지만 equals()를 구현해야 한다. 
- 데이터베이스 동등성 : @Id인 데이터베이스 식별자가 같다.